<script type="text/html" data-template-name="plc_modbus_server">
    <div class="form-row">
        <label style="width:150px" for="node-input-host"><i class="fa fa-tag"></i> IP</label>
        <input style="width:150px;text-align:center" type="text" id="node-input-host" placeholder="localhost">
    </div>
    <div class="form-row">
        <label style="width:150px" for="node-input-port"><i class="fa fa-tag"></i> PORT</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-port" placeholder=502>
    </div>
    <div class="form-row">
        <label style="width:150px" for="node-input-unitID"><i class="fa fa-tag"></i> Unit ID</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-unitID" placeholder=0>
    </div>

    <div class="form-row">
        <label style="width:150px" for="node-input-indexPLC"><i class="fa fa-dot-circle-o"></i>Index PLC</label>
        <select id="node-input-indexPLC" style="width:80px; margin-right:5px;">
            <option value=1 data-i18n="indexPLC.1">1</option>
            <option value=2 data-i18n="indexPLC.2">2</option>
            <option value=3 data-i18n="indexPLC.3">3</option>
            <option value=4 data-i18n="indexPLC.4">4</option>
            <option value=5 data-i18n="indexPLC.5">5</option>
            <option value=6 data-i18n="indexPLC.6">6</option>
            <option value=7 data-i18n="indexPLC.7">7</option>
            <option value=8 data-i18n="indexPLC.8">8</option>
            <option value=9 data-i18n="indexPLC.9">9</option>
            <option value=10 data-i18n="indexPLC.10">10</option>
        </select>
    </div>
   <br/>
   <br/>
   <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Bit Start Discrete Input BitDisplay</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_BitStartBitDisplay" placeholder=300>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of Bit BitDisplay</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfBitBitDisplay" placeholder=30>
    </div>
    <br/>

    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Bit Start Coils BitAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_BitStartBitAdjust" placeholder=330>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_Code_BitAdjust"><i class="fa fa-tag"></i>CODE Communication BitAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_Code_BitAdjust" placeholder=100>
    </div>
    
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of Bit BitAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfBitBitAdjust" placeholder=30>
    </div>
    <br/>
    <br/>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Word Start Element</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartElement" placeholder=0>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of Word Element</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfWordElement" placeholder=300>
    </div>
    <br/>
    
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Word Start WordDisplay</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartWordDisplay" placeholder=360>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of Word WordDisplay</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfWordWordDisplay" placeholder=200>
    </div>
    <br/>

    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Word Start WordAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartWordAdjust" placeholder=560>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of Word WordAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfWordWordAdjust" placeholder=200>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_Code_WordAdjust"><i class="fa fa-tag"></i>CODE Communication WordAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_Code_WordAdjust" placeholder=101>
    </div>
    <br/>

    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Word Start DWordDisplay</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartDWordDisplay" placeholder=760>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of Word DWordDisplay</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfWordDWordDisplay" placeholder=25>
    </div>
    <br/>

    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Word Start DWordAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartDWordAdjust"  placeholder=810>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-host"><i class="fa fa-tag"></i> Length Of DWordAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfWordDWordAdjust"  placeholder=25>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_Code_DWordAdjust"><i class="fa fa-tag"></i>CODE Communication DWordAdjust</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_Code_DWordAdjust" placeholder=102>
    </div>
    <br/>

    <br/>
    <br/>
    <br/>

    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_WordStartComPC"><i class="fa fa-tag"></i> Word Start ComPC</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartComPC"  placeholder=1000>
    </div>
    <div class="form-row">
        <label style="width:230px"><i class="fa fa-tag"></i>ComPC[0]=CODE</label>
    </div>
    <div class="form-row">
        <label style="width:230px"><i class="fa fa-tag"></i>ComPC[1]=Tag</label>
    </div>
    <div class="form-row">
        <label style="width:230px"><i class="fa fa-tag"></i>ComPC[2]=Value</label>
    </div>
    <br/>

    <div class="form-row">
        <label for="node-input-PLC_Enable_String"><i class="fa fa-dot-circle-o"></i>Enable STRING</label>
        <select id="node-input-PLC_Enable_String" style="width:80px; margin-right:5px;">
            <option value=True data-i18n="PLC_Enable_String.1">True</option>
            <option value=False data-i18n="PLC_Enable_String.2">False</option>
        </select>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_WordStartString"><i class="fa fa-tag"></i> Word Start String</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_WordStartString"  placeholder=2000>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_LengthOfWordString"><i class="fa fa-tag"></i> Length Of Word String</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_LengthOfWordString"  placeholder=1000>
    </div>
    <div class="form-row">
        <label style="width:230px" for="node-input-PLC_NumberWordInString"><i class="fa fa-tag"></i> Number Word In String</label>
        <input style="width:50px;text-align:center" type="text" id="node-input-PLC_NumberWordInString"  placeholder=20>
    </div>
    <br/>
        

    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]Topic">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]Name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('plc_modbus_server', {
        category: 'PLC',
        color: "Silver",
        defaults: {
            name: { value: "" },
            host: {
                value: 'localhost', required: true
            },
            port: {
                value: 502, required: true,
                validate: RED.validators.number(true)
            },
            unitID: {
                value: 0, required: true,
                validate: RED.validators.number(true)
            },
            indexPLC: {
                value: 1, required: true,
                validate: RED.validators.number(false)
            },
            topic: { value: "" },

            PLC_BitStartBitDisplay: { value: 0, required: true },
            PLC_LengthOfBitBitDisplay: { value: 200, required: true },
            PLC_BitStartBitAdjust: { value: 0, required: true },
            PLC_Code_BitAdjust: { value: 100, required: true },
            PLC_LengthOfBitBitAdjust: { value: 200, required: true },

            PLC_WordStartElement: { value: 0, required: true },
            PLC_LengthOfWordElement: { value: 100, required: true },

            PLC_WordStartWordDisplay: { value: 100, required: true },
            PLC_LengthOfWordWordDisplay: { value: 200, required: true },
            PLC_WordStartWordAdjust: { value: 300, required: true },
            PLC_LengthOfWordWordAdjust: { value: 200, required: true },
            PLC_Code_WordAdjust: { value: 101, required: true },

            PLC_WordStartDWordDisplay: { value: 500, required: true },
            PLC_LengthOfWordDWordDisplay: { value: 50, required: true },
            PLC_WordStartDWordAdjust: { value: 600, required: true },
            PLC_LengthOfWordDWordAdjust: { value: 50, required: true },
            PLC_Code_DWordAdjust: { value: 102, required: true },

            PLC_WordStartRotate: { value: 700, required: true },
            PLC_LengthOfWordRotate: { value: 100, required: true },
            PLC_WordStartComPC: { value: 1000, required: true },
            PLC_LengthOfWordComPC: { value: 10, required: true },
            PLC_Enable_String: { value: 'False', required: true },
            PLC_WordStartString: { value: 2000, required: true },
            PLC_LengthOfWordString: { value: 20, required: true },
            PLC_NumberWordInString: { value: 1000, required: true }
        },
        inputs: 1,
        outputs: 1,
        icon: "server.png",
        label: function () {
            return this.name || "MODBUS SERVER: " + (this.host ? this.host : "") + " / " + this.port;
        },
        labelStyle: function () {
            return this.name ? "node_label_italic" : "";
        }
    });
</script>